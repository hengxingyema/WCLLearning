<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <title>野马运营</title>

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <script src="/javascripts/vendor/AngularJS/angular.min.js"></script>

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!--第三方 CSS JS-->
    <link rel="stylesheet" href="../stylesheets/vendor/font-awesome.min.css">
    <!--<link rel="stylesheet" href="../stylesheets/myApp.css">-->
    <link rel="stylesheet" href="../stylesheets/loading.css">
    <link rel="stylesheet" href="/stylesheets/vendor/hover/hover-min.css">

    <script src="/javascripts/vendor/AngularJS/angular-file-upload.min.js"></script>

    <link rel="stylesheet" href="../stylesheets/pcAndmobTask.css">
    <!--<link rel="stylesheet" href="../stylesheets/newtaskMob.css">-->

    <!--semantic ui css-->
    <link rel="stylesheet" type="text/css" href="/semantic/dist/semantic.min.css">
    <!--js 和 model dropdonw 冲突-->
    <script src="/semantic/dist/semantic.min.js"></script>

    <!--网站内部js-->
    <script src="/javascripts/cookieHelper.min.js"></script>

    <script src="/javascripts/newtaskMob.js"></script>
    <script src="/javascripts/indexApp.min.js"></script>
    <!--放大图片-->


</head>

<body ng-app="yemaWebApp">
<!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">更新您的浏览器</a> 从而获得更好的体验.</p>
<![endif]-->

<!--导航-->
<div class="container" ng-controller="indexAppCtrl" >
    <th-nav></th-nav>
</div>

<div class="" ng-controller="MobControl">
    <!--提示-->
    <div class="main">
        <div class="alert alert-danger hidden-xs" style="margin-right: 40px">
            提示:尽量从手机端直接上传,一台设备(包括电脑)一次只能提交一份任务截图.
        </div>

        <!--头部任务信息-->
        <div class="media">
            <div class="media-left">
                <img class="app-icon" ng-src="{{ oneAppInfo.artworkUrl100 }}">
            </div>

            <div class="media-body">
                <div class="task-name">{{ oneAppInfo.trackName.substr(0,6)+'...' }}</div>
                <div>
                    <span class="app-id">App ID: {{ oneAppInfo.appleId }}</span>
                    <span class="company hidden-xs">{{ oneAppInfo.sellerName }}</span>
                </div>

                <div class="app-info">
                    <span class="button_type">
                        <span class="download">{{ oneAppInfo.taskType }}</span>
                    </span>

                    <span class="button_num">
                        <span>共</span>
                        <span class="num">{{ oneAppInfo.totalExcCount }}</span>&nbsp;条
                    </span>

                    <span class="button_surplus">
                        <span>未做</span>
                        <span class="num">{{oneAppInfo.surplusCount}}</span>&nbsp;条
                    </span>
                </div>

                <div class="app-info">
                    <span class="button_rateUnitPrice">任务单价:{{oneAppInfo.rateUnitPrice}}Y币</span>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <h3 style="color: #00a5ff;margin-left: 20px; font-size: 18px;">需求截图</h3>
    <!--头部数据-->

    <div class="task-demand-info">
        <!--<div class="ion-item">-->
            <!--<img ng-src="{{ oneAppInfo.artworkUrl100 }}" class="cardicon">-->
            <!--<div class="character">-->
                <!--<span class="typetitle">{{oneAppInfo.trackName}}</span>-->
            <!--</div>-->
            <!--<span class="cardtextright cardword" >+{{oneAppInfo.rateUnitPrice}}<span style="font-size: 0.6em;">YB</span></span>-->
            <!--<span class = "cardplay " >{{oneAppInfo.taskType}}</span>-->
            <!--<span class="typelightgray">{{oneAppInfo.formattedPrice}}应用</span>-->
        <!--</div>-->


        <div class="color-mob">
            <!--做任务的需求部分-->
            <div class="item item-body" >
                <!--截图一部分-->
                <div class="capture">
                    <span class="capture-info">任务手机必须有SIM卡</span>
                    <div class="capture-top">
                        <img class="img-size" src="/images/taskInfor/screenshotImg.png">
                        <span class="capture-tl">截图一</span>
                    </div>

                    <div class="addTaskInfo">
                        <p class="task-claim">1.App Store搜索关键字:
                            <span class="color-ramp">{{oneAppInfo.searchKeyword}}</span>, 大概在第
                            <span class="color-ramp">{{oneAppInfo.ranKing}}</span>位
                        </p>

                        <p class="task-claim">2.找到指定App后,
                            <span class="glyphicon glyphicon-camera color-camera"></span>
                            <span class="color-camera" style="font-size: 16px">截图</span>, 然后下载
                            <span class="" ng-show="oneAppInfo.needGet == true">
                                (本任务需<span class="color-ramp">获取</span>按钮)
                            </span>
                        </p>
                    </div>
                </div>

                <!--截图二部分-->
                <div class="capture">
                    <span class="capture-info">任务截图需跳过引导页</span>

                    <div class="capture-top">
                        <img class="img-size" src="/images/taskInfor/screenshotImg.png">
                        <span class="capture-tl">截图二</span>
                    </div>

                    <div class="addTaskInfo">
                        <p class="task-claim">3.下载完毕,打开App,试用1-2分钟后返回Appstore
                        <span class="" ng-show="oneAppInfo.registerStatus == 'third'">
                            (本任务需<span class="color-ramp">第三方登陆</span>)
                        </span>
                            <span class="glyphicon glyphicon-camera color-camera"></span>
                            <span class="color-camera" style="font-size: 16px">截图</span>
                        </p>
                    </div>
                </div>

                <!--截图三部分-->
                <div class="capture" ng-show="oneAppInfo.taskType != '下载'">
                    <span class="capture-info">评论页截图不能有键盘</span>
                    <div class="capture-top">
                        <img class="img-size" src="/images/taskInfor/screenshotImg.png">
                        <span class="capture-tl">截图三</span>
                    </div>

                    <div class="addTaskInfo">
                        <p class="task-claim">4.打开App Store, 按下面要求评论</p>

                        <!--标题部分-->
                        <div style="margin-left: 44px;">
                            <p class="color-ramp">{{oneAppInfo.Score + '星好评'}}</p>
                            <p class="">{{'标题关键字: ' + oneAppInfo.titleKeyword}}</p>
                            <p ng-if="oneAppInfo.reviewMustTitleKey != ''" class="comment-top">
                                标题必须包含:{{oneAppInfo.reviewMustTitleKey}}
                            </p>

                            <!--评论部分-->
                            <p class="">{{'评论关键字: ' + oneAppInfo.commentKeyword}}</p>
                            <p ng-if="oneAppInfo.reviewMustContentKey != ''" class="comment-top">
                                评论内容必须包含:{{oneAppInfo.reviewMustContentKey}}
                            </p>

                        </div>
                        <p class="">
                            <span class="task-claim">至少包含2个关键字,</span>
                            <span ng-show="oneAppInfo.needMoreReviewContent == true">
                                <span class="task-claim">评论字数</span><span class="color-ramp">至少50字。</span>
                            </span>
                            <span ng-show="oneAppInfo.needMoreReviewContent != true">
                                <span class="task-claim">评论字数至少20字。</span>
                            </span>

                            <span class="glyphicon glyphicon-camera color-camera"></span>
                            <span class="color-camera" style="font-size: 16px">截图</span>
                        </p>
                    </div>
                </div>

                <div class="capture">
                    <div class="capture-top">
                        <img class="img-size" src="/images/taskInfor/screenshotImg.png">
                        <span class="capture-tl">备&nbsp;&nbsp;&nbsp;注</span>
                    </div>

                    <div class="addTaskInfo">
                        <p class="comment-top">a.3天后再次打开App后,方可卸载</p>
                        <p ng-if="oneAppInfo.taskType == '评论'" class="comment-top">b.评论标题至少包含1个关键字,至少6个字符</p>
                        <p ng-if="oneAppInfo.needGet != true" class="comment-top">c.二次评论需要修改评论后方可提交</p>
                        <p ng-if="oneAppInfo.registerStatus == 'third'" class="comment-top">d.任务含第三方登陆需求，尽量截取个人中心</p>
                        <p class="color-ramp">用户自定义要求(非官方认可)</p>
                        <p class="task-claim" ng-if="oneAppInfo.taskRemark != undefined && oneAppInfo.taskRemark != ''">{{oneAppInfo.taskRemark}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 用户做任务详情-->
    <div class="text-center" ng-hide="!normalBtnShow">
        <button class="btn btn-default cust2" data-toggle="modal" data-target="#mymodal">
            {{uploadImgDes}}
        </button>
    </div>

    <button class="a-upload text-center" ng-hide="normalBtnShow">
        <!--accept="image/*"-->
        <input class="upload" type="file" style="width: 80%" nv-file-select="" uploader="uploader" multiple/>
        {{uploadImgDes}}
    </button>

    <div class="alert alert-danger" role="alert" ng-show="errorId">{{errorMsg}}</div>

    <div class="progress" style="margin:auto; margin-top: 20px" ng-hide="!progressNum">
        <div ng-class="{'progress-bar': true, 'progress-bar-striped':true, active:true}" ng-style="{width: progressNum+ '%'}">
        </div>
    </div>

    <hr/>
    <div class="row" style="margin: 30px 30px 30px 30px;">
        <span style='float: right; font-size: 20px' ng-hide="oneAppInfo.uploadName == undefined">提交人: {{oneAppInfo.uploadName}}</span>
    </div>

    <div class="row"  ng-hide="errorId == 2">
        <div class="col-xs-12">
             <span class="submission-screenshot" ng-repeat="image in images">
                  <img ng-src="{{image}}" />

             </span>
        </div>
    </div>
    <!--放大图片-->




    <div class="row" style="margin: 30px 30px 30px 30px;" ng-hide='oneAppInfo.detail == undefined'>
        <span style='float: left; font-size: 20px;' ng-hide='oneAppInfo.detail == undefined'>拒绝理由: {{oneAppInfo.detail}}</span>
    </div>


    <div class="submit"  ng-hide="errorId == 2">
        <button class="btn btn_primary" ng-click="commitConfirm()" ng-show="images.length">确认提交</button>
    </div>

    <div class="submit text-center"  ng-show="errorId == 2">
        <button class="btn btn_primary warning" ng-click="commitConfirm()" >提交超量, 返回列表</button>
    </div>


    <div class="modal fade" id="mymodal">
        <div class="modal-dialog" >
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h3>请输入提交者昵称</h3>
                    <input type="text" class="uploadname" ng-model="uploadName" placeholder="提交者昵称只需提交一次">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary"  data-dismiss="modal"
                            ng-click="saveUploadName()">保存
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1260580187'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1260580187' type='text/javascript'%3E%3C/script%3E"));</script>
</body>
</html>